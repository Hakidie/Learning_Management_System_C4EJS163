<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Design Courses</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/home.css">
</head>

<body>

  <header class="header">
    <div class="header-left">
      <a href="home.html" style="text-decoration:none; display:flex; align-items:center; gap:8px; color:inherit;">
        <img src="../assets/images/logo.png" class="logo-img">
        <span class="brand">Byway</span>
      </a>
      <a href="#" class="nav-link">Categories</a>
    </div>

    <div class="header-center">
      <div class="search-box">
        <img src="../assets/images/search.png" class="search-icon">
        <input type="text" id="global-search-input" placeholder="Search courses">
      </div>

      <script>
        (function () {
          const input = document.getElementById('global-search-input');
          if (input) {
            input.addEventListener('keypress', function (e) {
              if (e.key === 'Enter') {
                const val = input.value.trim();
                console.log('Search triggered:', val); // Debug log
                if (val) {
                  window.location.href = 'home.html?search=' + encodeURIComponent(val);
                }
              }
            });
          }
        })();
      </script>
    </div>

    <div class="header-right">
      <a href="#" class="nav-link">Teach on Byway</a>
      <img src="../assets/images/heart.png" class="header-icon">
      <a href="cart.html" style="position: relative; display: inline-block;">
        <img src="../assets/images/cart.png" class="header-icon">
        <span id="cart-count-badge" class="cart-badge" style="display: none;">0</span>
      </a>
      <img src="../assets/images/bell-01.png" class="header-icon">
      <div class="avatar">J</div>
    </div>
  </header>

  <style>
    .header {
      height: 65px;
      padding: 0 36px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #e5e7eb;
      background: #fff;
      font-family: Arial, sans-serif;
    }

    .header-left,
    .header-center,
    .header-right {
      display: flex;
      align-items: center;
    }

    .header-left {
      gap: 18px;
    }

    .header-right {
      gap: 16px;
    }

    .logo-img {
      height: 32px;
    }

    .brand {
      font-size: 20px;
      font-weight: 700;
    }

    .nav-link {
      text-decoration: none;
      color: #374151;
      font-size: 14px;
      font-weight: 500;
    }

    .nav-link:hover {
      color: #111;
    }

    .header-center {
      flex: 1;
      justify-content: center;
    }

    .search-box {
      position: relative;
      display: flex;
      align-items: center;
    }

    .search-box input {
      width: 480px;
      height: 40px;
      padding: 0 14px 0 40px;
      border-radius: 8px;
      border: 1px solid #cbd5e1;
      font-size: 14px;
      outline: none;
    }

    .search-icon {
      position: absolute;
      left: 12px;
      width: 18px;
      opacity: 0.6;
    }

    .header-icon {
      width: 22px;
      height: 22px;
      cursor: pointer;
      opacity: 0.9;
      transition: opacity .2s;
    }

    .header-icon:hover {
      opacity: 1;
    }

    .avatar {
      width: 34px;
      height: 34px;
      border-radius: 50%;
      background: #344053;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
    }

    .cart-badge {
      position: absolute;
      top: -9px;
      right: -9px;
      background-color: #ff4757;
      color: white;
      border-radius: 50%;
      padding: 0;
      width: 20px;
      height: 20px;
      font-size: 12px;
      font-weight: 700;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      text-align: center;
      border: 2px solid #fff;
      pointer-events: none;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
      z-index: 999;
      line-height: 1 !important;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }
  </style>

  <main class="page-container">

    <section class="page-header">
      <h2>Design Courses</h2>
      <p>All Development Courses</p>
    </section>

    <div class="content-area">

      <aside class="sidebar">
        <div class="filter-box">
          <h4>Rating</h4>
          <ul class="filter-list">
            <li><label><input type="checkbox" value="5" class="filter-rating"> ★★★★★</label></li>
            <li><label><input type="checkbox" value="4" class="filter-rating"> ★★★★☆</label></li>
            <li><label><input type="checkbox" value="3" class="filter-rating"> ★★★☆☆</label></li>
          </ul>
        </div>

        <div class="filter-box">
          <h4>Number of Chapters</h4>
          <ul class="filter-list">
            <li><label><input type="checkbox" value="10" class="filter-chapter"> 0 - 10</label></li>
            <li><label><input type="checkbox" value="15" class="filter-chapter"> 10 - 15</label></li>
            <li><label><input type="checkbox" value="20" class="filter-chapter"> 15 - 20</label></li>
          </ul>
        </div>

        <div class="filter-box">
          <h4>Price</h4>
          <ul class="filter-list">
            <li><label><input type="checkbox" value="free" class="filter-price"> Free</label></li>
            <li><label><input type="checkbox" value="low" class="filter-price"> $10 - $50</label></li>
            <li><label><input type="checkbox" value="high" class="filter-price"> $50+</label></li>
          </ul>
        </div>
      </aside>

      <section class="courses">

        <div class="course-top">
          <span>Sort by:</span>
          <select>
            <option>Relevance</option>
            <option>Price</option>
            <option>Rating</option>
          </select>
        </div>

        <div class="course-grid" id="course-grid">
          <div class="course-card" data-rating="5" data-price="149.9" data-chapters="20">
            <img src="https://kuraztech.com/uploads/Course/UIUX%20advanced%20(1).jpg" class="course-thumb">
            <h3>Advanced UI Design</h3>
            <div class="course-meta">
              <span>⭐ 5.0</span>
              <span>20 Chapters</span>
            </div>
            <div class="course-price">$149.9</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="4" data-price="45.0" data-chapters="8">
            <img
              src="https://i.ytimg.com/vi/qqva-bcEnHA/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLAxfj-5RleoRJ34Yb_V2qFCCoKnjw"
              class="course-thumb">
            <h3>Sketch Basics</h3>
            <div class="course-meta">
              <span>⭐ 4.2</span>
              <span>8 Chapters</span>
            </div>
            <div class="course-price">$45.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>

          <div class="course-card" data-rating="5" data-price="0" data-chapters="12">
            <img src="https://framerusercontent.com/assets/fiClfy7M3PBWU3sp6dk4Wcg00s.jpg" class="course-thumb">
            <h3>Free UX Intro</h3>
            <div class="course-meta">
              <span>⭐ 5.0</span>
              <span>12 Chapters</span>
            </div>
            <div class="course-price">Free</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="3" data-price="15.0" data-chapters="18">
            <img src="https://media.geeksforgeeks.org/wp-content/uploads/20240522153616/What-is-prototyping.webp"
              class="course-thumb">
            <h3>Prototyping</h3>
            <div class="course-meta">
              <span>⭐ 3.5</span>
              <span>18 Chapters</span>
            </div>
            <div class="course-price">$15.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="4" data-price="99.0" data-chapters="25">
            <img src="https://miro.medium.com/1*XA1F60E7J0yvMVcBMHMnrA.jpeg" class="course-thumb">
            <h3>Mastering Figma</h3>
            <div class="course-meta">
              <span>⭐ 4.8</span>
              <span>25 Chapters</span>
            </div>
            <div class="course-price">$99.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="3" data-price="0" data-chapters="5">
            <img src="https://academy.telos.vn/wp-content/uploads/2025/02/design-thinking-telos-banner-scaled.jpg"
              class="course-thumb">
            <h3>Design Thinking</h3>
            <div class="course-meta">
              <span>⭐ 3.0</span>
              <span>5 Chapters</span>
            </div>
            <div class="course-price">Free</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="5" data-price="149.9" data-chapters="20">
            <img src="https://kuraztech.com/uploads/Course/UIUX%20advanced%20(1).jpg" class="course-thumb">
            <h3>Advanced UI Design (Copy 1)</h3>
            <div class="course-meta">
              <span>⭐ 5.0</span>
              <span>20 Chapters</span>
            </div>
            <div class="course-price">$149.9</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="4" data-price="45.0" data-chapters="8">
            <img
              src="https://i.ytimg.com/vi/qqva-bcEnHA/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLAxfj-5RleoRJ34Yb_V2qFCCoKnjw"
              class="course-thumb">
            <h3>Sketch Basics (Copy 1)</h3>
            <div class="course-meta">
              <span>⭐ 4.2</span>
              <span>8 Chapters</span>
            </div>
            <div class="course-price">$45.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="5" data-price="0" data-chapters="12">
            <img src="https://framerusercontent.com/assets/fiClfy7M3PBWU3sp6dk4Wcg00s.jpg" class="course-thumb">
            <h3>Free UX Intro (Copy 1)</h3>
            <div class="course-meta">
              <span>⭐ 5.0</span>
              <span>12 Chapters</span>
            </div>
            <div class="course-price">Free</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="3" data-price="15.0" data-chapters="18">
            <img src="https://media.geeksforgeeks.org/wp-content/uploads/20240522153616/What-is-prototyping.webp"
              class="course-thumb">
            <h3>Prototyping (Copy 1)</h3>
            <div class="course-meta">
              <span>⭐ 3.5</span>
              <span>18 Chapters</span>
            </div>
            <div class="course-price">$15.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="4" data-price="99.0" data-chapters="25">
            <img src="https://miro.medium.com/1*XA1F60E7J0yvMVcBMHMnrA.jpeg" class="course-thumb">
            <h3>Mastering Figma (Copy 1)</h3>
            <div class="course-meta">
              <span>⭐ 4.8</span>
              <span>25 Chapters</span>
            </div>
            <div class="course-price">$99.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="3" data-price="0" data-chapters="5">
            <img src="https://academy.telos.vn/wp-content/uploads/2025/02/design-thinking-telos-banner-scaled.jpg"
              class="course-thumb">
            <h3>Design Thinking (Copy 1)</h3>
            <div class="course-meta">
              <span>⭐ 3.0</span>
              <span>5 Chapters</span>
            </div>
            <div class="course-price">Free</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="5" data-price="149.9" data-chapters="20">
            <img src="https://kuraztech.com/uploads/Course/UIUX%20advanced%20(1).jpg" class="course-thumb">
            <h3>Advanced UI Design (Copy 2)</h3>
            <div class="course-meta">
              <span>⭐ 5.0</span>
              <span>20 Chapters</span>
            </div>
            <div class="course-price">$149.9</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="4" data-price="45.0" data-chapters="8">
            <img
              src="https://i.ytimg.com/vi/qqva-bcEnHA/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLAxfj-5RleoRJ34Yb_V2qFCCoKnjw"
              class="course-thumb">
            <h3>Sketch Basics (Copy 2)</h3>
            <div class="course-meta">
              <span>⭐ 4.2</span>
              <span>8 Chapters</span>
            </div>
            <div class="course-price">$45.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="5" data-price="0" data-chapters="12">
            <img src="https://framerusercontent.com/assets/fiClfy7M3PBWU3sp6dk4Wcg00s.jpg" class="course-thumb">
            <h3>Free UX Intro (Copy 2)</h3>
            <div class="course-meta">
              <span>⭐ 5.0</span>
              <span>12 Chapters</span>
            </div>
            <div class="course-price">Free</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="3" data-price="15.0" data-chapters="18">
            <img src="https://media.geeksforgeeks.org/wp-content/uploads/20240522153616/What-is-prototyping.webp"
              class="course-thumb">
            <h3>Prototyping (Copy 2)</h3>
            <div class="course-meta">
              <span>⭐ 3.5</span>
              <span>18 Chapters</span>
            </div>
            <div class="course-price">$15.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="4" data-price="99.0" data-chapters="25">
            <img src="https://miro.medium.com/1*XA1F60E7J0yvMVcBMHMnrA.jpeg" class="course-thumb">
            <h3>Mastering Figma (Copy 2)</h3>
            <div class="course-meta">
              <span>⭐ 4.8</span>
              <span>25 Chapters</span>
            </div>
            <div class="course-price">$99.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="3" data-price="0" data-chapters="5">
            <img src="https://academy.telos.vn/wp-content/uploads/2025/02/design-thinking-telos-banner-scaled.jpg"
              class="course-thumb">
            <h3>Design Thinking (Copy 2)</h3>
            <div class="course-meta">
              <span>⭐ 3.0</span>
              <span>5 Chapters</span>
            </div>
            <div class="course-price">Free</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="5" data-price="149.9" data-chapters="20">
            <img src="https://kuraztech.com/uploads/Course/UIUX%20advanced%20(1).jpg" class="course-thumb">
            <h3>Advanced UI Design (Copy 3)</h3>
            <div class="course-meta">
              <span>⭐ 5.0</span>
              <span>20 Chapters</span>
            </div>
            <div class="course-price">$149.9</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="4" data-price="45.0" data-chapters="8">
            <img
              src="https://i.ytimg.com/vi/qqva-bcEnHA/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLAxfj-5RleoRJ34Yb_V2qFCCoKnjw"
              class="course-thumb">
            <h3>Sketch Basics (Copy 3)</h3>
            <div class="course-meta">
              <span>⭐ 4.2</span>
              <span>8 Chapters</span>
            </div>
            <div class="course-price">$45.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="5" data-price="0" data-chapters="12">
            <img src="https://framerusercontent.com/assets/fiClfy7M3PBWU3sp6dk4Wcg00s.jpg" class="course-thumb">
            <h3>Free UX Intro (Copy 3)</h3>
            <div class="course-meta">
              <span>⭐ 5.0</span>
              <span>12 Chapters</span>
            </div>
            <div class="course-price">Free</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="3" data-price="15.0" data-chapters="18">
            <img src="https://media.geeksforgeeks.org/wp-content/uploads/20240522153616/What-is-prototyping.webp"
              class="course-thumb">
            <h3>Prototyping (Copy 3)</h3>
            <div class="course-meta">
              <span>⭐ 3.5</span>
              <span>18 Chapters</span>
            </div>
            <div class="course-price">$15.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="4" data-price="99.0" data-chapters="25">
            <img src="https://miro.medium.com/1*XA1F60E7J0yvMVcBMHMnrA.jpeg" class="course-thumb">
            <h3>Mastering Figma (Copy 3)</h3>
            <div class="course-meta">
              <span>⭐ 4.8</span>
              <span>25 Chapters</span>
            </div>
            <div class="course-price">$99.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="3" data-price="0" data-chapters="5">
            <img src="https://academy.telos.vn/wp-content/uploads/2025/02/design-thinking-telos-banner-scaled.jpg"
              class="course-thumb">
            <h3>Design Thinking (Copy 3)</h3>
            <div class="course-meta">
              <span>⭐ 3.0</span>
              <span>5 Chapters</span>
            </div>
            <div class="course-price">Free</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="5" data-price="149.9" data-chapters="20">
            <img src="https://kuraztech.com/uploads/Course/UIUX%20advanced%20(1).jpg" class="course-thumb">
            <h3>Advanced UI Design (Final)</h3>
            <div class="course-meta">
              <span>⭐ 5.0</span>
              <span>20 Chapters</span>
            </div>
            <div class="course-price">$149.9</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="4" data-price="45.0" data-chapters="8">
            <img
              src="https://i.ytimg.com/vi/qqva-bcEnHA/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLAxfj-5RleoRJ34Yb_V2qFCCoKnjw"
              class="course-thumb">
            <h3>Sketch Basics (Final)</h3>
            <div class="course-meta">
              <span>⭐ 4.2</span>
              <span>8 Chapters</span>
            </div>
            <div class="course-price">$45.00</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
          <div class="course-card" data-rating="5" data-price="0" data-chapters="12">
            <img src="https://framerusercontent.com/assets/fiClfy7M3PBWU3sp6dk4Wcg00s.jpg" class="course-thumb">
            <h3>Free UX Intro (Final)</h3>
            <div class="course-meta">
              <span>⭐ 5.0</span>
              <span>12 Chapters</span>
            </div>
            <div class="course-price">Free</div>
            <button class="add-cart-btn">Add to Cart</button>
          </div>
        </div>
        <div class="pagination">
          <button>«</button>
          <button class="active">1</button>
          <button>2</button>
          <button>3</button>
          <button>»</button>
        </div>
      </section>
    </div>
    <section class="mentors-section">
      <h3>Popular Mentors</h3>
      <div class="mentor-grid">
        <div class="mentor-card">
          <img src="../assets/images/Rectangle 1136.png">
          <h4>Ronald Richards</h4>
          <p>UX/UI Designer</p>
          <span>⭐ 4.9 • 2,500 Students</span>
        </div>
        <div class="mentor-card">
          <img src="https://progestion.com.uy/wp-content/uploads/2024/03/team-1.jpg">
          <h4>Jennifer Aniston</h4>
          <p>UX/UI Designer</p>
          <span>⭐ 4.9 • 2,500 Students</span>
        </div>
        <div class="mentor-card">
          <img src="https://tuyensinhmut.edu.vn/wp-content/uploads/2023/06/giao-vien-nuoc-ngoai-day-tieng-anh-1.jpg">
          <h4>Rosalind Franklin</h4>
          <p>UX/UI Designer</p>
          <span>⭐ 4.9 • 2,500 Students</span>
        </div>
        <div class="mentor-card">
          <img
            src="https://skypeenglish.vn/wp-content/uploads/2022/03/Hawaii-Education-chuyen-cung-cap-giao-vien-nuoc-ngoai-day-tieng-Anh-cho-trung-tam-Anh-ngu-1.jpg">
          <h4>Abhaya Bernard</h4>
          <p>UX/UI Designer</p>
          <span>⭐ 4.9 • 2,500 Students</span>
        </div>
        <div class="mentor-card">
          <img
            src="https://i1-vnexpress.vnecdn.net/2023/07/17/image001-7289-1689589284.png?w=1020&h=0&q=100&dpr=1&fit=crop&s=K_ll5N8JOfDN0QzFlaoAxw">
          <h4>Chad Engelbert</h4>
          <p>UX/UI Designer</p>
          <span>⭐ 4.9 • 2,500 Students</span>
        </div>
      </div>
    </section>
    <section class="featured-courses">
      <h3>Featured Courses</h3>
      <div class="featured-grid">
        <div class="featured-card">
          <img
            src="https://images.ctfassets.net/aq13lwl6616q/2XQhnM9PlTDW7EFoEFmANf/6a7284355f5cf167efc3bdf37238091b/Beginners_Guide_To_The_UX_Design_Process_1_.png?w=1400&h=788&q=50&fm=webp&bg=transparent">
          <h4>Beginner's Guide to Design</h4>
          <span>⭐ 4.9 • 3,300 Students</span>
          <strong>$149.9</strong>
        </div>
        <div class="featured-card">
          <img
            src="https://www.coadulted.org/wp-content/uploads/2025/06/ESL-_-English-as-a-Second-Language-ESL-Multilevel-Online-ONLY.jpg">
          <h4>English as a Second Language (ESL)</h4>
          <span>⭐ 4.9 • 3,300 Students</span>
          <strong>$149.9</strong>
        </div>
        <div class="featured-card">
          <img src="https://www.theknowledgeacademy.com/_files/images/Programming_Fundamentals1.png">
          <h4>Programming Fundamentals</h4>
          <span>⭐ 4.9 • 3,300 Students</span>
          <strong>$149.9</strong>
        </div>
        <div class="featured-card">
          <img
            src="https://3ca51ebc.delivery.rocketcdn.me/wp-content/uploads/2020/09/Data-structures-and-algorithms-new.webp">
          <h4>Data Structures and Algorithms</h4>
          <span>⭐ 4.9 • 3,300 Students</span>
          <strong>$149.9</strong>
        </div>
      </div>
    </section>
  </main>
  <div id="footer-placeholder"></div>

  <script>
    fetch('footer.html')
      .then(response => {
        if (!response.ok) throw new Error('Network response was not ok');
        return response.text();
      })
      .then(html => {
        document.getElementById('footer-placeholder').innerHTML = html;
      })
      .catch(err => {
        console.error('Failed to load footer:', err);
      });
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cards = document.querySelectorAll('.course-card');
      const filters = {
        rating: [],
        price: [],
        chapter: [],
        search: ''
      };

      const urlParams = new URLSearchParams(window.location.search);
      const searchParam = urlParams.get('search');
      if (searchParam) {
        filters.search = searchParam.toLowerCase();
        setTimeout(() => {
          const searchInput = document.getElementById('global-search-input');
          if (searchInput) searchInput.value = searchParam;
        }, 500);
      }

      let currentPage = 1;
      const itemsPerPage = 9;
      let filteredCards = [];

      function updateFilters() {
        filters.rating = Array.from(document.querySelectorAll('.filter-rating:checked')).map(cb => cb.value);
        filters.price = Array.from(document.querySelectorAll('.filter-price:checked')).map(cb => cb.value);
        filters.chapter = Array.from(document.querySelectorAll('.filter-chapter:checked')).map(cb => cb.value);

        applyFilters();
      }

      function applyFilters() {
        filteredCards = [];

        cards.forEach(card => {
          const rating = card.dataset.rating;
          const price = parseFloat(card.dataset.price);
          const chapters = parseInt(card.dataset.chapters);
          const title = card.querySelector('h3').textContent.toLowerCase();

          let show = true;

          if (filters.search && !title.includes(filters.search)) {
            show = false;
          }

          if (show && filters.rating.length > 0) {
            if (!filters.rating.includes(rating)) show = false;
          }
          if (show && filters.price.length > 0) {
            let priceMatch = false;
            filters.price.forEach(p => {
              if (p === 'free' && price === 0) priceMatch = true;
              if (p === 'low' && price >= 10 && price <= 50) priceMatch = true;
              if (p === 'high' && price > 50) priceMatch = true;
            });
            if (!priceMatch) show = false;
          }
          if (show && filters.chapter.length > 0) {
            let chapMatch = false;
            filters.chapter.forEach(c => {
              if (c === '10' && chapters <= 10) chapMatch = true;
              if (c === '15' && chapters > 10 && chapters <= 15) chapMatch = true;
              if (c === '20' && chapters > 15 && chapters <= 20) chapMatch = true;
              if (c === '20' && chapters > 15) chapMatch = true;
            });
            if (!chapMatch) show = false;
          }
          if (show) {
            filteredCards.push(card);
          }
          card.style.display = 'none';
        });
        currentPage = 1;
        renderPagination();
      }

      function renderPagination() {
        if (filteredCards.length === 0) {
          document.querySelector('.pagination').innerHTML = '';
          return;
        }

        const totalPages = Math.ceil(filteredCards.length / itemsPerPage);
        const start = (currentPage - 1) * itemsPerPage;
        const end = start + itemsPerPage;
        filteredCards.forEach((card, index) => {
          if (index >= start && index < end) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        });
        const paginationContainer = document.querySelector('.pagination');
        if (paginationContainer) {
          let html = '';
          if (currentPage > 1) {
            html += `<button onclick="changePage(${currentPage - 1})">«</button>`;
          } else {
            html += `<button disabled>«</button>`;
          }
          for (let i = 1; i <= totalPages; i++) {
            if (i === currentPage) {
              html += `<button class="active">${i}</button>`;
            } else {
              html += `<button onclick="changePage(${i})">${i}</button>`;
            }
          }
          if (currentPage < totalPages) {
            html += `<button onclick="changePage(${currentPage + 1})">»</button>`;
          } else {
            html += `<button disabled>»</button>`;
          }

          paginationContainer.innerHTML = html;
        }
      }
      window.changePage = function (page) {
        currentPage = page;
        renderPagination();
        const grid = document.getElementById('course-grid');
        if (grid) grid.scrollIntoView({ behavior: 'smooth' });
      };
      applyFilters();

      document.querySelectorAll('input[type=checkbox]').forEach(cb => {
        cb.addEventListener('change', updateFilters);
      });

      const btns = document.querySelectorAll('.add-cart-btn');

      btns.forEach(btn => {
        btn.addEventListener('click', (e) => {
          const card = e.target.closest('.course-card');
          const title = card.querySelector('h3').textContent;
          let priceText = card.querySelector('.course-price').textContent;
          if (priceText.toLowerCase() !== 'free') {
            price = parseFloat(priceText.replace('$', ''));
          }

          const image = card.querySelector('img').src;

          const product = {
            title: title,
            price: price,
            image: image,
            id: Date.now()
          };

          let cart = JSON.parse(localStorage.getItem('cart')) || [];
          cart.push(product);
          localStorage.setItem('cart', JSON.stringify(cart));
          updateCartBadge(); // Update badge immediately
          alert('Added "' + title + '" to cart!');
        });
      });

      function setupCartBadge() {
        const headerRight = document.querySelector('.header-right');
        if (!headerRight) return;

        const links = headerRight.querySelectorAll('a');
        let cartLink = null;

        links.forEach(link => {
          if (link.href.includes('cart.html')) {
            cartLink = link;
          }
        });

        if (cartLink) {
          cartLink.style.position = 'relative';

          let badge = document.createElement('span');
          badge.className = 'cart-badge';
          badge.id = 'cart-count-badge';
          cartLink.appendChild(badge);

          updateCartBadge();
        }
      }

      function updateCartBadge() {
        const badge = document.getElementById('cart-count-badge');
        if (!badge) return;

        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        badge.textContent = cart.length;

        if (cart.length === 0) {
          badge.style.display = 'none';
        } else {
          badge.style.display = 'block';
        }
      }
    });
  </script>

</body>

</html>
